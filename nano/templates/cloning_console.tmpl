<!--
Title: Cloning Console UI
Used In File(s): \code\game\machinery\computer\cloning.dm
-->
<div class="block">
	<div class="item">
		<div class="itemLabelNarrow">Меню</div>
		<div class="itemContentWide">
			{{:helper.link('Главная', 'home', {'menu' : 1}, data.menu == 1 ? 'selected' : '')}}{{:helper.link('Записи', 'folder-open', {'menu' : 2}, data.menu == 2 ? 'selected' : '')}}
		</div>
	</div>
	<div class="item">
		<div class="itemLabelNarrow">Обновить</div>
		<div class="itemContentWide">
			{{:helper.link('Обновить', 'refresh', {'refresh' : 1})}}
		</div>
	</div>
	<div class="item">
		<div class="itemLabelNarrow">Автопроцессинг</div>
		<div class="itemContentWide">
			{{if data.autoallowed}}
				{{:helper.link('Включен', 'check', {'task' : 'autoprocess'}, data.autoprocess ? 'selected' : '')}}{{:helper.link('Отключен', 'close', {'task' : 'stopautoprocess'}, !data.autoprocess ? 'selected' : '')}}
			{{else}}
				{{:helper.link('Включен', 'check', null, 'disabled')}}{{:helper.link('Отключен', 'close', null, 'selected')}}
			{{/if}}
		</div>
	</div>
	{{if data.disk}}
		<div class="item">
			<div class="itemLabelNarrow">Диск</div>
			<div class="itemContentWide">{{:helper.link('Извлечь', 'eject', {'disk' : 'eject'})}}</div>
		</div>
	{{/if}}
</div>
{{if data.menu == 1}}
	<h2>Модули</h2>
	<div class="item">
		<div class="itemLabelNarrow">Сканер</div>
		<div class="itemContentWide{{if data.scanner}} good{{else}} bad{{/if}}">
			{{if data.scanner}} найден!{{else}} Ошибка: Не обнаружен!{{/if}}
		</div>
	</div>
	<div class="item">
		<div class="itemLabelNarrow">Поды</div>
		<div class="itemContentWide{{if data.numberofpods}} good{{else}} bad{{/if}}">
			{{if data.numberofpods}} Найдено {{:data.numberofpods}}!{{else}} Ошибка: Ничего не обнаружено!{{/if}}
		</div>
	</div>
	{{if data.scanner}}
		<h2>Функции сканера</h2>
		{{if data.loading}}
			<b>Сканирование...</b>
		{{else}}
			<b>{{:data.scantemp}}</b>
		{{/if}}
		<div class="item">
			<div class="itemLabelNarrow">Сканировать пациента</div>
			<div class="itemContentWide">{{:helper.link('Сканировать', 'search', {'scan' : 1}, !data.occupant ? 'disabled' : '')}}</div>
		</div>
		<div class="item">
			<div class="itemLabelNarrow">Блокировка сканера</div>
			<div class="itemContentWide">{{if data.occupant}}{{:helper.link('Включена', 'lock', {'lock' : 1}, data.locked ? 'selected' : '')}}{{else}} {{:helper.link('Включена', 'lock', null, 'disabled')}}{{/if}}{{:helper.link('Отключена', 'unlock', {'lock' : 1}, !data.locked ? 'selected' : '')}}</div>
		</div>
		{{if data.can_brainscan}}
		<div class="item">
			<div class="itemLabelNarrow">Режим сканера</div>
			<div class="itemContentWide">
				{{:helper.link('Мозг', null, {'toggle_mode' : 1}, !data.scan_mode ? '' : 'selected')}}{{:helper.link('Тело', null, {'toggle_mode' : 1}, data.scan_mode ? '' : 'selected')}}
			</div>
		</div>
		{{/if}}
	{{/if}}
	{{if data.numberofpods}}
		<h2>Pods</h2>
		{{for data.pods}}
			<b>{{:value.name}}</b></br>
			<div class="item">
				<div class="itemLabelNarrow">Биомасса</div>
				<div class="itemContentWide{{if value.biomass > 0}} good{{else}} bad{{/if}}">
					{{:value.biomass}}
				</div>
			</div>

			<div class="item">
				<div class="itemLabelNarrow">Выбрать</div>
				<div class="itemContentWide">
					{{:helper.link('Выбрать', 'check', {'selectpod' : value.pod}, value.pod == data.selected_pod ? 'selected' : '')}}
				</div>
			</div>

		{{/for}}
	{{/if}}
{{/if}}
{{if data.menu == 2}}
	<h2>Текущие записи</h2>
	{{if data.temp}}
		<div class="item">
			{{:data.temp}}
		</div>
	{{/if}}
	{{for data.records}}
		<div>{{:helper.link(value.realname, 'arrow-circle-down', {'view_rec' : value.record})}}</div>
	{{empty}}
		Записи не найдены!
	{{/for}}
{{/if}}
{{if data.menu == 3}}
	<h2>Выбранная запись</h2>
	{{if data.temp}}
		<div class="item">
			{{:data.temp}}
		</div>
	{{/if}}
	{{if !data.activerecord}}
		<div class="bad">Ошибка: запись не найдена!</div>
	{{else}}
		<div class="item">
			<b>Настоящее имя:</b> {{:data.realname}}<br />
			<b>Здоровье:</b> {{:data.health}} (<span class="oxyloss_light">КИСЛ</span> - <span class="burn">ОЖОГИ</span> - <span class="toxin_light">ТОКС</span> - <span class="brute">ФИЗИЧ</span>)
		</div>
		<div class="item">
			<b>UI:</b> {{:data.unidentity}}<br />
			<b>SE:</b> <div style="word-wrap: break-word;">{{:data.strucenzymes}}</div>
		</div>
		{{if data.disk}}
			<div class="item">
				<div class="itemLabelNarrow">Диск</div>
				<div class="itemContentWide">{{:helper.link('Загрузить с диска', 'floppy-o', {'disk' : 'load'})}}{{:helper.link('Сохранить У.И. + У.Э.', 'arrow-circle-up', {'save_disk' : 'ue'})}}{{:helper.link('Сохранить У.И.', 'arrow-circle-up', {'save_disk' : 'ui'})}}{{:helper.link('Сохранить С.Э.', 'arrow-circle-up', {'save_disk' : 'se'})}}</div>
			</div>
		{{/if}}
		<div class="item">
			<div class="itemLabelNarrow">Действия</div>
			<div class="itemContentWide">{{:helper.link('Клонировать', 'arrow-right', {'clone' : data.activerecord}, !data.podready ? 'disabled' : '')}}{{:helper.link('Удалить', 'trash', {'del_rec' : 1})}}</div>
		</div>
	{{/if}}
{{/if}}
{{if data.menu == 4}}
	<h2>Подтвердите удаление записи</h2>
	{{if data.temp}}
		<div class="item">
			{{:data.temp}}
		</div>
	{{/if}}
	<div class="item">
		{{:helper.link('Сканировать карту и подтвердить', 'trash', {'del_rec' : 1})}}{{:helper.link('Отмена', 'close', {'menu' : 3})}}
	</div>
{{/if}}

